#### Задание 1  
### Постмотрем по инциденту с github 21.10.2018

## Краткое описание инцедента:  
В 22:52 21 октября 2018 г.(UTC)  
несколько сервисов на GitHub.com были затронуты из-за работ с сетевым оборудованием,  
это повлияло на работу с базой данных, что привело к несогласованной информации, представленной на веб-сайте.  

## Предшествующие события:  
Плановые ремонтные работы по замене неисправного оптического оборудования  

## Причина инцидента:  
Разрыв сетевой связности кластера БД  
Внезапное появление задержки из-за передачи трафика через весь континент  
После переключения кластера БД "на запсись" в западный ЦОД,  
На серверах БД в восточном дата-центре остались записи за краткий период, которые не реплицировались в западный ЦОД.  

## Воздействие:  
Инцидент привёл к деградации сервиса на 24 часа и 11 минут.  
Инцидент затронул не всю платформу, а только несколько внутренних систем,  
что привело к отображению устаревшей и непоследовательной информации  

## Обнаружение:  
Внутренние системы мониторинга начали генерировать оповещения,  
указывающие на многочисленные сбои в работе систем.  

## Реакция:  
К работе привлекли дополнительных разработчиков из инженерной группы БД.  
Они начали исследовать текущее состояние, чтобы определить, какие действия необходимо предпринять,  
чтобы вручную настроить базу данных Восточного побережья США в качестве основной для каждого кластера и перестроить топологию репликации.  

## Восстановление:  
проведено восстановление файлов из бэкапа,  
синхронизированы реплики на обоих сайтах,  
ручное восстановление консистентности и целостности данных.  

## Таймлайн:  
21.10.2018 22:52 UTC  
Произошло разделения сети Orchestrator.  
21.10.2018 22:54 UTC  
Сработали системы мониторинга  
21.10.2018 23:07 UTC  
Заблокированы внутренние средства развертывания  
21.10.2018 23:13 UTC  
Привлечены дополнительные разработчики из инженерной группы БД  
21.10.2018 23:19 UTC  
Остановлено выполнение заданий, которые пишут метаданные типа пуш-запросов.  
22.10.2018 00:05 UTC  
Разарботан план устранения несогласованности данных  
22.10.2018 00:41 UTC  
Инициирован процесс резервного копирования всех затронутых кластеров  
22.10.2018 06:51 UTC  
Несколько кластеров в восточном ЦОД завершили восстановление из резервных копий  
и начали реплицировать новые данные с Западным побережьем  
22.10.2018 11:12 UTC  
Все первичные БД переведены на Восток  
22.10.2018 16:24 UTC  
После синхронизации реплик, вернулись к исходной топологии,  
устранив проблемы задержки и доступности.  
22.10.2018 23:03 UTC  
Все незавершённые события вебхуков и сборки Pages обработаны,  
целостность и правильная работа всех систем подтверждена.  

## Последующие действия:
Устранение несоответствия данных  
Отрегулировать конфигурацию Orchestrator, чтобы запретить перемещение первичных БД за границы региона.  
Ускорили миграцию на новую систему отчётности по статусам  
Ускорили переход к архитектуре active/active/active  
Будет введена системная практика проверки сценариев сбоев,  
прежде чем они возникнут в реальности.  






